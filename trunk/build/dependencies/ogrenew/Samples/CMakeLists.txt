# Configure Samples build


if (NOT OIS_FOUND)
  message(STATUS "Could not find dependency: OIS")
  message(STATUS "Skipping samples build")
else ()
  include_directories(${CMAKE_CURRENT_SOURCE_DIR}/Common/include)
  include_directories(${OIS_INCLUDE_DIR})
  set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/Samples)
  
  set(OGRE_MEDIADIR ${CMAKE_CURRENT_SOURCE_DIR}/Media)
  set(OGRE_PLUGINDIR ${CMAKE_INSTALL_PREFIX}/lib/OGRE)
  configure_file(${CMAKE_CURRENT_SOURCE_DIR}/Common/bin/resources.cfg.in ${CMAKE_BINARY_DIR}/Samples/resources.cfg)
  configure_file(${CMAKE_CURRENT_SOURCE_DIR}/Common/bin/plugins.cfg.in ${CMAKE_BINARY_DIR}/Samples/plugins.cfg)
  configure_file(${CMAKE_CURRENT_SOURCE_DIR}/Common/bin/quake3settings.cfg ${CMAKE_BINARY_DIR}/Samples/quake3settings.cfg)
  configure_file(${CMAKE_CURRENT_SOURCE_DIR}/Common/bin/media.cfg ${CMAKE_BINARY_DIR}/Samples/media.cfg)

  add_subdirectory(BezierPatch)
  add_subdirectory(BSP)
  add_subdirectory(CameraTrack)
  add_subdirectory(CelShading)
  add_subdirectory(CubeMapping)
#  add_subdirectory(DeferredShading)
  add_subdirectory(Dot3Bump)
  add_subdirectory(DynTex)
  add_subdirectory(EnvMapping)
  add_subdirectory(Fresnel)
  add_subdirectory(Grass)
#  add_subdirectory(Isosurf)
  add_subdirectory(Lighting)
  add_subdirectory(ParticleFX)
#  add_subdirectory(ParticleGS)
#  add_subdirectory(PCZTestApp)
  add_subdirectory(RenderToTexture)
  add_subdirectory(SkeletalAnimation)
  add_subdirectory(SkyBox)
  add_subdirectory(SkyDome)
  add_subdirectory(SkyPlane)
  add_subdirectory(Smoke)
  add_subdirectory(Terrain)
  add_subdirectory(TextureFX)
  add_subdirectory(Transpacency)
  add_subdirectory(VolumeTex)
  add_subdirectory(Water)

  if (NOT CEGUI_FOUND)
    message(STATUS "Could not find dependency: CEGUI")
    message(STATUS "Skipping GUI samples build")
  elseif (NOT OGRE_BUILD_CEGUIRENDERER)
    message(STATUS "CEGUI renderer was not built")
    message(STATUS "Skipping GUI samples build")
  else ()
    include_directories(${CEGUI_INCLUDE_DIR})
    add_subdirectory(Compositor)
    add_subdirectory(FacialAnimation)
    add_subdirectory(Gui)
    add_subdirectory(Instancing)
    add_subdirectory(OceanDemo)
    add_subdirectory(Shadows)
  endif ()
endif ()

